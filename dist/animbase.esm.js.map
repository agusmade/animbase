{"version":3,"file":"animbase.esm.js","sources":["../src/animbase-core.js","../src/autoinit.js","../src/index.js"],"sourcesContent":["const splitColor = (color) =>\n\tcolor\n\t\t.match(/^([\\w]{2})([\\w]{2})([\\w]{2})([\\w]{2})$/)\n\t\t.slice(1)\n\t\t.map((v) => parseInt(v, 16));\n\nconst toHexRGBA = (s) => {\n\tconst found = s.match(/^#(?:([0-f]{3})|([0-f]{4})|([0-f]{6})|([0-f]{8}))$/);\n\tif (!found) throw Error(\"Unsupported color format\");\n\tconst [, c3, c4, c6, c8] = found;\n\treturn c3\n\t\t? c3\n\t\t\t\t.split(\"\")\n\t\t\t\t.map((v) => v + v)\n\t\t\t\t.join(\"\") + \"ff\"\n\t\t: c4\n\t\t? c4\n\t\t\t\t.split(\"\")\n\t\t\t\t.map((v) => v + v)\n\t\t\t\t.join(\"\")\n\t\t: c6\n\t\t? c6 + \"ff\"\n\t\t: c8;\n};\nconst interpolateColor = (t, color1, color2) => {\n\tconst cInt1 = splitColor(toHexRGBA(color1));\n\tconst cInt2 = splitColor(toHexRGBA(color2));\n\treturn (\n\t\t\"#\" +\n\t\tcInt1\n\t\t\t.map((v, i) =>\n\t\t\t\tMath.round(Math.max(0, Math.min(255, v + (cInt2[i] - v) * t)))\n\t\t\t\t\t.toString(16)\n\t\t\t\t\t.padStart(2, \"0\")\n\t\t\t)\n\t\t\t.join(\"\")\n\t);\n};\n\nconst easingFunctions = {\n\tlinear: (t) => t,\n\tease: (t) => t * t * (3 - 2 * t),\n\tin: (t) => t * t * t,\n\tout: (t) => 1 - Math.pow(1 - t, 3),\n\tinOut: (t) => (t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2),\n\t// fungsi easing lainnya:\n\tinQuad: (t) => t * t,\n\toutQuad: (t) => t * (2 - t),\n\tinOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n\tinCubic: (t) => t * t * t,\n\toutCubic: (t) => --t * t * t + 1,\n\tinOutCubic: (t) =>\n\t\tt < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n\tinQuart: (t) => t * t * t * t,\n\toutQuart: (t) => 1 - --t * t * t * t,\n\tinOutQuart: (t) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n\tinQuint: (t) => t * t * t * t * t,\n\toutQuint: (t) => 1 + --t * t * t * t * t,\n\tinOutQuint: (t) =>\n\t\tt < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,\n\tinSine: (t) => 1 - Math.cos((t * Math.PI) / 2),\n\toutSine: (t) => Math.sin((t * Math.PI) / 2),\n\tinOutSine: (t) => -(Math.cos(Math.PI * t) - 1) / 2,\n\tinExpo: (t) => (0 === t ? 0 : Math.pow(2, 10 * (t - 1))),\n\toutExpo: (t) => (1 === t ? 1 : 1 - Math.pow(2, -10 * t)),\n\tinOutExpo: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: t < 0.5\n\t\t\t? Math.pow(2, 20 * t - 10) / 2\n\t\t\t: (2 - Math.pow(2, 10 - 20 * t)) / 2,\n\tinCirc: (t) => 1 - Math.sqrt(1 - Math.pow(t, 2)),\n\toutCirc: (t) => Math.sqrt(1 - Math.pow(t - 1, 2)),\n\tinOutCirc: (t) =>\n\t\tt < 0.5\n\t\t\t? (1 - Math.sqrt(1 - Math.pow(2 * t, 2))) / 2\n\t\t\t: (Math.sqrt(1 - Math.pow(-2 * t + 2, 2)) + 1) / 2,\n\tinBack: (t) => 2.70158 * t * t * t - 1.70158 * t * t,\n\toutBack: (t) => 1 + 2.70158 * --t * t * t + 1.70158 * t * t,\n\tinOutBack: (t) =>\n\t\tt < 0.5\n\t\t\t? (Math.pow(2 * t, 2) * ((2.5949095 + 1) * 2 * t - 2.5949095)) / 2\n\t\t\t: (Math.pow(2 * t - 2, 2) *\n\t\t\t\t\t((2.5949095 + 1) * (t * 2 - 2) + 2.5949095) +\n\t\t\t\t\t2) /\n\t\t\t  2,\n\tinElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: -Math.pow(2, 10 * t - 10) *\n\t\t\t  Math.sin(((t * 10 - 10.75) * 2 * Math.PI) / 3),\n\toutElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: Math.pow(2, -10 * t) *\n\t\t\t\t\tMath.sin(((t * 10 - 0.75) * 2 * Math.PI) / 3) +\n\t\t\t  1,\n\tinOutElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: t < 0.5\n\t\t\t? -(\n\t\t\t\t\tMath.pow(2, 20 * t - 10) *\n\t\t\t\t\tMath.sin(((20 * t - 11.125) * 2 * Math.PI) / 4.5)\n\t\t\t  ) / 2\n\t\t\t: (Math.pow(2, -20 * t + 10) *\n\t\t\t\t\tMath.sin(((20 * t - 11.125) * 2 * Math.PI) / 4.5)) /\n\t\t\t\t\t2 +\n\t\t\t  1,\n\tinBounce: (t) => 1 - easingFunctions.outBounce(1 - t),\n\toutBounce: (t) =>\n\t\tt < 1 / 2.75\n\t\t\t? 7.5625 * t * t\n\t\t\t: t < 2 / 2.75\n\t\t\t? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75\n\t\t\t: t < 2.5 / 2.75\n\t\t\t? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375\n\t\t\t: 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375,\n\tinOutBounce: (t) =>\n\t\tt < 0.5\n\t\t\t? (1 - easingFunctions.outBounce(1 - 2 * t)) / 2\n\t\t\t: (1 + easingFunctions.outBounce(2 * t - 1)) / 2,\n\tspring: (t, stiffness = 4.5, damping = 6) =>\n\t\t1 - Math.cos(t * stiffness * Math.PI) * Math.exp(-t * damping),\n};\n\nconst linearInterpolation = (a, aMin, aMax, bMin, bMax) =>\n\tbMin + ((a - aMin) * (bMax - bMin)) / (aMax - aMin);\n\nlet re = {\n\tcolor: /#[0-f]{3,}/,\n\tnumber: /-?\\d+(?:\\.\\d+)?/,\n\tunit: /[%a-zA-Z]*/,\n\tfunc: /[a-zA-Z]+/,\n};\nre = {\n\t...re,\n\tnumberWithOptionalUnit: new RegExp(\n\t\t`(?:(${re.color.source})|(?:(${re.number.source})(${re.unit.source})?))`\n\t),\n};\nre = {\n\t...re,\n\tnumberWithOptionalUnitAndFunc: new RegExp(\n\t\t`${re.numberWithOptionalUnit.source}(?:\\\\.(${re.func.source}))?`\n\t),\n};\n\nconst parseExpression = (s) => {\n\tconst rege = RegExp(re.numberWithOptionalUnitAndFunc.source, \"g\");\n\tlet arr;\n\tlet r = [];\n\twhile ((arr = rege.exec(s)) !== null) {\n\t\tlet [text, color, sValue, unit, func] = arr;\n\t\tif (func && !easingFunctions[func])\n\t\t\tthrow Error(`Invalid easing function: ${func}`);\n\t\tr.push({\n\t\t\ttype: color ? \"color\" : \"number\",\n\t\t\ttext,\n\t\t\tvalue: color ? color : parseFloat(sValue),\n\t\t\tunit,\n\t\t\tfunc,\n\t\t\tlastIndex: rege.lastIndex,\n\t\t});\n\t}\n\treturn r;\n};\n\nfunction replaceString(str, _ref, _replacer) {\n\tlet ref = [..._ref].reverse();\n\tlet replacer = [..._replacer].reverse();\n\tfor (let i = 0; i < ref.length; i++) {\n\t\tconst fromIndex = ref[i].lastIndex - ref[i].text.length;\n\t\tconst toIndex = ref[i].lastIndex;\n\t\tstr =\n\t\t\tstr.substring(0, fromIndex) + replacer[i] + str.substring(toIndex);\n\t}\n\treturn str;\n}\n\nconst getValue = ({\n\tstartValue,\n\tendValue,\n\tstartFrame = 0,\n\tendFrame,\n\tcurrentFrame,\n\tfunc = \"linear\",\n\ttype,\n} = {}) => {\n\tif (startValue === endValue) return startValue;\n\tlet normalValue = linearInterpolation(\n\t\tcurrentFrame,\n\t\tstartFrame,\n\t\tendFrame,\n\t\t0,\n\t\t1\n\t);\n\tconst easeValue = easingFunctions[func](normalValue);\n\tif (type === \"color\")\n\t\treturn interpolateColor(easeValue, startValue, endValue);\n\treturn linearInterpolation(easeValue, 0, 1, startValue, endValue);\n};\n\nclass AnimatedElement {\n\tconstructor(element, options = {}) {\n\t\tthis.element = element;\n\t\tconst config = element.dataset.animConfig\n\t\t\t? JSON.parse(element.dataset.animConfig)\n\t\t\t: {};\n\t\tconst initial = element.dataset.animInit\n\t\t\t? JSON.parse(element.dataset.animInit)\n\t\t\t: {};\n\n\t\tconst kfs = [];\n\t\tconst styleConfig = {};\n\n\t\tlet startFrame = 0;\n\t\tlet initialRef = {};\n\t\tlet ref = {};\n\t\tfor (let [prop, s] of Object.entries(initial)) {\n\t\t\tinitialRef[prop] = parseExpression(s);\n\t\t\tref[prop] = [...initialRef[prop]];\n\t\t}\n\t\tfor (let [kFrame, props] of Object.entries(config)) {\n\t\t\tconst endFrame = parseInt(kFrame, 10);\n\t\t\tkfs.push(endFrame);\n\t\t\tstyleConfig[kFrame] = { startFrame, endFrame, ref, props: {} };\n\t\t\tfor (let [prop, s] of Object.entries(props)) {\n\t\t\t\tconst values = parseExpression(s);\n\t\t\t\tref = { ...ref, [prop]: values };\n\t\t\t\tstyleConfig[kFrame].props[prop] = values;\n\t\t\t}\n\t\t\tstartFrame = endFrame + 1;\n\t\t}\n\t\tthis.styleConfig = styleConfig;\n\t\t// this.keyFrames = kfs;\n\n\t\tthis.update = (currentFrame, debug = false) => {\n\t\t\tlet r = {};\n\t\t\tconst aStyleConfig = Object.entries(styleConfig);\n\t\t\tconst kf = aStyleConfig.find(\n\t\t\t\t([, detail]) =>\n\t\t\t\t\tdetail.startFrame <= currentFrame &&\n\t\t\t\t\tdetail.endFrame >= currentFrame\n\t\t\t);\n\t\t\tif (kf) {\n\t\t\t\tconst detail = kf[1];\n\t\t\t\tfor (let [prop, v] of Object.entries(detail.ref)) {\n\t\t\t\t\tconst replacer = detail.props[prop]\n\t\t\t\t\t\t? detail.props[prop].map(\n\t\t\t\t\t\t\t\t(vi, i) =>\n\t\t\t\t\t\t\t\t\t`${getValue({\n\t\t\t\t\t\t\t\t\t\tstartValue: v[i].value,\n\t\t\t\t\t\t\t\t\t\tendValue: vi.value,\n\t\t\t\t\t\t\t\t\t\tstartFrame: detail.startFrame,\n\t\t\t\t\t\t\t\t\t\tendFrame: detail.endFrame,\n\t\t\t\t\t\t\t\t\t\tcurrentFrame,\n\t\t\t\t\t\t\t\t\t\tfunc: vi.func,\n\t\t\t\t\t\t\t\t\t\ttype: vi.type,\n\t\t\t\t\t\t\t\t\t})}${vi.unit || \"\"}`\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: v.map((vi) => `${vi.value}${vi.unit || \"\"}`);\n\t\t\t\t\t// console.log(`${prop}:`, {str: initial[prop], ref: initialRef[prop], replacer});\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\tr[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.element.style[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst detail = aStyleConfig[aStyleConfig.length - 1][1];\n\t\t\t\tfor (let [prop, v] of Object.entries(detail.ref)) {\n\t\t\t\t\tconst replacer = detail.props[prop]\n\t\t\t\t\t\t? detail.props[prop].map(\n\t\t\t\t\t\t\t\t(vi) => `${vi.value}${vi.unit || \"\"}`\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: v.map((vi) => `${vi.value}${vi.unit || \"\"}`);\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\tr[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.element.style[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (debug) return r;\n\t\t};\n\t}\n}\n\nclass TimelineAnimator {\n\tconstructor(getTimelineValue, options = {}) {\n\t\tthis.getTimelineValue = getTimelineValue;\n\t\tthis.animatedElements = new Map();\n\t\tthis.timelineValue = 0;\n\t\tthis.elementSelector = options.elementSelector || \"[data-anim-config]\";\n\n\t\tthis.collectAnimatedElements();\n\t\tthis.updateTimeline(); // Inisialisasi pada load\n\t}\n\n\tcollectAnimatedElements() {\n\t\tconst elements = document.querySelectorAll(this.elementSelector);\n\t\telements.forEach((element) => {\n\t\t\tif (!element.dataset.animConfig) return;\n\t\t\tconst animatedElement = new AnimatedElement(element);\n\t\t\tthis.animatedElements.set(element, animatedElement);\n\t\t});\n\t}\n\n\tupdateTimeline() {\n\t\tthis.timelineValue = this.getTimelineValue();\n\t\tthis.updateAllAnimatedElements();\n\t}\n\n\tupdateAllAnimatedElements() {\n\t\tthis.animatedElements.forEach((animatedElement) => {\n\t\t\tanimatedElement.update(this.timelineValue);\n\t\t});\n\t}\n}\n\n// Contoh:\n\n// // Penggunaan dengan input range\n// const timelineInput = document.getElementById('timeline');\n// const rangeAnimator = new TimelineAnimator(() => parseFloat(timelineInput.value), {\n//     elementSelector: '.range-animated' // selektor kustom\n// });\n// timelineInput.addEventListener('input', () => rangeAnimator.updateTimeline());\n\n// // Penggunaan dengan scroll\n// const scrollAnimator = new TimelineAnimator(() => window.scrollY, {\n//     elementSelector: '.scroll-animated' // selektor kustom\n// });\n// window.addEventListener('scroll', () => scrollAnimator.updateTimeline());\n\n// // Penggunaan dengan nilai yang diupdate secara programatik\n// let programValue = 0;\n// const programAnimator = new TimelineAnimator(() => programValue, {\n//     elementSelector: '.program-animated' // selektor kustom\n// });\n// setInterval(() => {\n//     programValue = (programValue + 0.01) % 1;\n//     programAnimator.updateTimeline();\n// }, 16);\n\nexport {\n\tAnimatedElement,\n\tTimelineAnimator,\n\teasingFunctions,\n\tparseExpression,\n\tlinearInterpolation,\n};\n","// autoinit.js (refactored with 3 controller types)\n\nimport { TimelineAnimator } from \"./animbase-core.js\";\n\nconst loopStateMap = new Map();\nconst controllers = new Map();\n\nwindow.AnimBase = window.AnimBase || {};\n\nfunction getKey(type, groupOrId = \"\") {\n\treturn type === \"timed\" ? `timed::${groupOrId}` : groupOrId;\n}\n\n// --- Public Control API ---\n[\n\t\"trigger\",\n\t\"pause\",\n\t\"resume\",\n\t\"stop\",\n\t\"seek\",\n\t\"setOnce\",\n\t\"setReverse\",\n\t\"setHooks\",\n].forEach((fn) => {\n\twindow.AnimBase[fn] = function (group) {\n\t\tconst key = getKey(\"timed\", group);\n\t\tconst state = loopStateMap.get(key);\n\t\tif (!state) return;\n\t\tswitch (fn) {\n\t\t\tcase \"trigger\":\n\t\t\t\tif (!state.running) {\n\t\t\t\t\tstate.running = true;\n\t\t\t\t\tif (state.onStart) state.onStart();\n\t\t\t\t\tstate.startTime = performance.now();\n\t\t\t\t\trunLoop(state);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"pause\":\n\t\t\t\tstate.running = false;\n\t\t\t\tstate.pauseTime = performance.now();\n\t\t\t\tbreak;\n\t\t\tcase \"resume\":\n\t\t\t\tconst pauseDuration = performance.now() - state.pauseTime;\n\t\t\t\tstate.startTime += pauseDuration;\n\t\t\t\tstate.running = true;\n\t\t\t\trunLoop(state);\n\t\t\t\tbreak;\n\t\t\tcase \"stop\":\n\t\t\t\tstate.running = false;\n\t\t\t\tstate.frame = state.reverse ? state.max : 0;\n\t\t\t\tstate.animator.updateTimeline();\n\t\t\t\tbreak;\n\t\t\tcase \"seek\":\n\t\t\t\tstate.frame = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(state.max, arguments[1] || 0)\n\t\t\t\t);\n\t\t\t\tstate.animator.updateTimeline();\n\t\t\t\tbreak;\n\t\t\tcase \"setOnce\":\n\t\t\t\tstate.once = !!arguments[1];\n\t\t\t\tbreak;\n\t\t\tcase \"setReverse\":\n\t\t\t\tstate.reverse = !!arguments[1];\n\t\t\t\tbreak;\n\t\t\tcase \"setHooks\":\n\t\t\t\tconst { onStart, onFinish } = arguments[1] || {};\n\t\t\t\tif (onStart) state.onStart = onStart;\n\t\t\t\tif (onFinish) state.onFinish = onFinish;\n\t\t\t\tbreak;\n\t\t}\n\t};\n});\n\nfunction runLoop(state) {\n\tconst loop = () => {\n\t\tconst now = performance.now();\n\t\tconst elapsed = now - state.startTime;\n\t\tlet t = elapsed / state.duration;\n\n\t\tt = Math.max(0, Math.min(1, t));\n\n\t\tconst progress = state.reverse ? 1 - t : t;\n\t\tstate.frame = Math.floor(progress * state.max);\n\t\tstate.animator.updateTimeline();\n\n\t\tif (t >= 1) {\n\t\t\tif (state.once) {\n\t\t\t\tstate.running = false;\n\t\t\t\tif (state.onFinish) state.onFinish();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tstate.startTime = performance.now();\n\t\t\t\tif (state.onFinish) state.onFinish();\n\t\t\t}\n\t\t}\n\n\t\tif (state.running) requestAnimationFrame(loop);\n\t};\n\tloop();\n}\n\nfunction scanAnimatedElements() {\n\tconst animatedElements = document.querySelectorAll(\n\t\t\"[data-anim-controller-ref], [data-anim-controlled-by], [data-anim-trigger-group]\"\n\t);\n\n\tanimatedElements.forEach((el) => {\n\t\t// 1. Controlled by another element (range, etc)\n\t\tif (el.dataset.animControllerRef) {\n\t\t\tconst refSelector = el.dataset.animControllerRef;\n\t\t\tconst refEl = document.querySelector(refSelector);\n\t\t\tif (!refEl) return console.warn(\"Missing controller:\", refSelector);\n\t\t\tif (!controllers.has(refSelector)) {\n\t\t\t\tconst getTimelineValue = () => parseFloat(refEl.value || 0);\n\t\t\t\tcontrollers.set(\n\t\t\t\t\trefSelector,\n\t\t\t\t\tnew TimelineAnimator(getTimelineValue, {\n\t\t\t\t\t\telementSelector: `[data-anim-controller-ref=\"${refSelector}\"]`,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\trefEl.addEventListener(\"input\", () =>\n\t\t\t\t\tcontrollers.get(refSelector).updateTimeline()\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// 2. Controlled by scroll\n\t\tif (el.dataset.animControlledBy) {\n\t\t\tconst type = el.dataset.animControlledBy;\n\t\t\tconst key = `scroll-${type}`;\n\t\t\tif (!controllers.has(key)) {\n\t\t\t\tconst getTimelineValue = () =>\n\t\t\t\t\ttype === \"scrollLeft\" ? window.scrollX : window.scrollY;\n\t\t\t\tcontrollers.set(\n\t\t\t\t\tkey,\n\t\t\t\t\tnew TimelineAnimator(getTimelineValue, {\n\t\t\t\t\t\telementSelector: `[data-anim-controlled-by=\"${type}\"]`,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\twindow.addEventListener(\"scroll\", () =>\n\t\t\t\t\tcontrollers.get(key).updateTimeline()\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// 3. Triggered loop animation (timed)\n\t\tif (el.dataset.animTriggerGroup) {\n\t\t\tconst group = el.dataset.animTriggerGroup;\n\t\t\tconst key = getKey(\"timed\", group);\n\t\t\tconst configEl = document.querySelector(\n\t\t\t\t`[data-anim-trigger-group=\"${group}\"][data-anim-trigger-config]`\n\t\t\t);\n\t\t\tif (!loopStateMap.has(key)) {\n\t\t\t\tlet cfg = configEl?.dataset.animTriggerConfig;\n\t\t\t\tcfg = cfg ? JSON.parse(cfg) : {};\n\t\t\t\tconst max = cfg.max || 100;\n\t\t\t\tconst duration = (1000 / (cfg.speed || 60)) * max;\n\t\t\t\tconst autostart = cfg.autostart || false;\n\t\t\t\tconst state = {\n\t\t\t\t\tframe: 0,\n\t\t\t\t\tmax,\n\t\t\t\t\tduration,\n\t\t\t\t\tanimator: null,\n\t\t\t\t\trunning: false,\n\t\t\t\t\tstartTime: 0,\n\t\t\t\t\tpauseTime: 0,\n\t\t\t\t\tonce: cfg.once || false,\n\t\t\t\t\treverse: cfg.reverse || false,\n\t\t\t\t\tonStart: null,\n\t\t\t\t\tonFinish: null,\n\t\t\t\t};\n\n\t\t\t\tconst getTimelineValue = () => state.frame;\n\n\t\t\t\tstate.animator = new TimelineAnimator(getTimelineValue, {\n\t\t\t\t\telementSelector: `[data-anim-trigger-group=\"${group}\"]:not([data-anim-trigger-config])`,\n\t\t\t\t});\n\n\t\t\t\tcontrollers.set(group, state.animator);\n\t\t\t\tloopStateMap.set(key, state);\n\n\t\t\t\tif (autostart) {\n\t\t\t\t\twindow.AnimBase.trigger(group);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t});\n}\n\nwindow.AnimBase.refresh = scanAnimatedElements;\n\ndocument.addEventListener(\"DOMContentLoaded\", scanAnimatedElements);\n","import * as AnimBaseCore from \"./animbase-core.js\";\nimport \"./autoinit.js\"; // tetap bekerja saat pakai <script> biasa\n\n// Untuk IIFE dan global\nif (typeof window !== \"undefined\") {\n\twindow.AnimBase = window.AnimBase || {};\n\tObject.assign(window.AnimBase, AnimBaseCore);\n}\n\n// Untuk ESM/CommonJS\nexport * from \"./animbase-core.js\";\n"],"names":[],"mappings":"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"}