{"version":3,"file":"animbase.iife.min.js","sources":["../src/animbase-core.js","../src/autoinit.js","../src/index.js"],"sourcesContent":["const splitColor = (color) =>\n\tcolor\n\t\t.match(/^([\\w]{2})([\\w]{2})([\\w]{2})([\\w]{2})$/)\n\t\t.slice(1)\n\t\t.map((v) => parseInt(v, 16));\n\nconst toHexRGBA = (s) => {\n\tconst found = s.match(/^#(?:([0-f]{3})|([0-f]{4})|([0-f]{6})|([0-f]{8}))$/);\n\tif (!found) throw Error(\"Unsupported color format\");\n\tconst [, c3, c4, c6, c8] = found;\n\treturn c3\n\t\t? c3\n\t\t\t\t.split(\"\")\n\t\t\t\t.map((v) => v + v)\n\t\t\t\t.join(\"\") + \"ff\"\n\t\t: c4\n\t\t? c4\n\t\t\t\t.split(\"\")\n\t\t\t\t.map((v) => v + v)\n\t\t\t\t.join(\"\")\n\t\t: c6\n\t\t? c6 + \"ff\"\n\t\t: c8;\n};\nconst interpolateColor = (t, color1, color2) => {\n\tconst cInt1 = splitColor(toHexRGBA(color1));\n\tconst cInt2 = splitColor(toHexRGBA(color2));\n\treturn (\n\t\t\"#\" +\n\t\tcInt1\n\t\t\t.map((v, i) =>\n\t\t\t\tMath.round(Math.max(0, Math.min(255, v + (cInt2[i] - v) * t)))\n\t\t\t\t\t.toString(16)\n\t\t\t\t\t.padStart(2, \"0\")\n\t\t\t)\n\t\t\t.join(\"\")\n\t);\n};\n\nconst easingFunctions = {\n\tlinear: (t) => t,\n\tease: (t) => t * t * (3 - 2 * t),\n\tin: (t) => t * t * t,\n\tout: (t) => 1 - Math.pow(1 - t, 3),\n\tinOut: (t) => (t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2),\n\t// fungsi easing lainnya:\n\tinQuad: (t) => t * t,\n\toutQuad: (t) => t * (2 - t),\n\tinOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n\tinCubic: (t) => t * t * t,\n\toutCubic: (t) => --t * t * t + 1,\n\tinOutCubic: (t) =>\n\t\tt < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n\tinQuart: (t) => t * t * t * t,\n\toutQuart: (t) => 1 - --t * t * t * t,\n\tinOutQuart: (t) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n\tinQuint: (t) => t * t * t * t * t,\n\toutQuint: (t) => 1 + --t * t * t * t * t,\n\tinOutQuint: (t) =>\n\t\tt < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,\n\tinSine: (t) => 1 - Math.cos((t * Math.PI) / 2),\n\toutSine: (t) => Math.sin((t * Math.PI) / 2),\n\tinOutSine: (t) => -(Math.cos(Math.PI * t) - 1) / 2,\n\tinExpo: (t) => (0 === t ? 0 : Math.pow(2, 10 * (t - 1))),\n\toutExpo: (t) => (1 === t ? 1 : 1 - Math.pow(2, -10 * t)),\n\tinOutExpo: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: t < 0.5\n\t\t\t? Math.pow(2, 20 * t - 10) / 2\n\t\t\t: (2 - Math.pow(2, 10 - 20 * t)) / 2,\n\tinCirc: (t) => 1 - Math.sqrt(1 - Math.pow(t, 2)),\n\toutCirc: (t) => Math.sqrt(1 - Math.pow(t - 1, 2)),\n\tinOutCirc: (t) =>\n\t\tt < 0.5\n\t\t\t? (1 - Math.sqrt(1 - Math.pow(2 * t, 2))) / 2\n\t\t\t: (Math.sqrt(1 - Math.pow(-2 * t + 2, 2)) + 1) / 2,\n\tinBack: (t) => 2.70158 * t * t * t - 1.70158 * t * t,\n\toutBack: (t) => 1 + 2.70158 * --t * t * t + 1.70158 * t * t,\n\tinOutBack: (t) =>\n\t\tt < 0.5\n\t\t\t? (Math.pow(2 * t, 2) * ((2.5949095 + 1) * 2 * t - 2.5949095)) / 2\n\t\t\t: (Math.pow(2 * t - 2, 2) *\n\t\t\t\t\t((2.5949095 + 1) * (t * 2 - 2) + 2.5949095) +\n\t\t\t\t\t2) /\n\t\t\t  2,\n\tinElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: -Math.pow(2, 10 * t - 10) *\n\t\t\t  Math.sin(((t * 10 - 10.75) * 2 * Math.PI) / 3),\n\toutElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: Math.pow(2, -10 * t) *\n\t\t\t\t\tMath.sin(((t * 10 - 0.75) * 2 * Math.PI) / 3) +\n\t\t\t  1,\n\tinOutElastic: (t) =>\n\t\t0 === t\n\t\t\t? 0\n\t\t\t: 1 === t\n\t\t\t? 1\n\t\t\t: t < 0.5\n\t\t\t? -(\n\t\t\t\t\tMath.pow(2, 20 * t - 10) *\n\t\t\t\t\tMath.sin(((20 * t - 11.125) * 2 * Math.PI) / 4.5)\n\t\t\t  ) / 2\n\t\t\t: (Math.pow(2, -20 * t + 10) *\n\t\t\t\t\tMath.sin(((20 * t - 11.125) * 2 * Math.PI) / 4.5)) /\n\t\t\t\t\t2 +\n\t\t\t  1,\n\tinBounce: (t) => 1 - easingFunctions.outBounce(1 - t),\n\toutBounce: (t) =>\n\t\tt < 1 / 2.75\n\t\t\t? 7.5625 * t * t\n\t\t\t: t < 2 / 2.75\n\t\t\t? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75\n\t\t\t: t < 2.5 / 2.75\n\t\t\t? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375\n\t\t\t: 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375,\n\tinOutBounce: (t) =>\n\t\tt < 0.5\n\t\t\t? (1 - easingFunctions.outBounce(1 - 2 * t)) / 2\n\t\t\t: (1 + easingFunctions.outBounce(2 * t - 1)) / 2,\n\tspring: (t, stiffness = 4.5, damping = 6) =>\n\t\t1 - Math.cos(t * stiffness * Math.PI) * Math.exp(-t * damping),\n};\n\nconst linearInterpolation = (a, aMin, aMax, bMin, bMax) =>\n\tbMin + ((a - aMin) * (bMax - bMin)) / (aMax - aMin);\n\nlet re = {\n\tcolor: /#[0-f]{3,}/,\n\tnumber: /-?\\d+(?:\\.\\d+)?/,\n\tunit: /[%a-zA-Z]*/,\n\tfunc: /[a-zA-Z]+/,\n};\nre = {\n\t...re,\n\tnumberWithOptionalUnit: new RegExp(\n\t\t`(?:(${re.color.source})|(?:(${re.number.source})(${re.unit.source})?))`\n\t),\n};\nre = {\n\t...re,\n\tnumberWithOptionalUnitAndFunc: new RegExp(\n\t\t`${re.numberWithOptionalUnit.source}(?:\\\\.(${re.func.source}))?`\n\t),\n};\n\nconst parseExpression = (s) => {\n\tconst rege = RegExp(re.numberWithOptionalUnitAndFunc.source, \"g\");\n\tlet arr;\n\tlet r = [];\n\twhile ((arr = rege.exec(s)) !== null) {\n\t\tlet [text, color, sValue, unit, func] = arr;\n\t\tif (func && !easingFunctions[func])\n\t\t\tthrow Error(`Invalid easing function: ${func}`);\n\t\tr.push({\n\t\t\ttype: color ? \"color\" : \"number\",\n\t\t\ttext,\n\t\t\tvalue: color ? color : parseFloat(sValue),\n\t\t\tunit,\n\t\t\tfunc,\n\t\t\tlastIndex: rege.lastIndex,\n\t\t});\n\t}\n\treturn r;\n};\n\nfunction replaceString(str, _ref, _replacer) {\n\tlet ref = [..._ref].reverse();\n\tlet replacer = [..._replacer].reverse();\n\tfor (let i = 0; i < ref.length; i++) {\n\t\tconst fromIndex = ref[i].lastIndex - ref[i].text.length;\n\t\tconst toIndex = ref[i].lastIndex;\n\t\tstr =\n\t\t\tstr.substring(0, fromIndex) + replacer[i] + str.substring(toIndex);\n\t}\n\treturn str;\n}\n\nconst getValue = ({\n\tstartValue,\n\tendValue,\n\tstartFrame = 0,\n\tendFrame,\n\tcurrentFrame,\n\tfunc = \"linear\",\n\ttype,\n} = {}) => {\n\tif (startValue === endValue) return startValue;\n\tlet normalValue = linearInterpolation(\n\t\tcurrentFrame,\n\t\tstartFrame,\n\t\tendFrame,\n\t\t0,\n\t\t1\n\t);\n\tconst easeValue = easingFunctions[func](normalValue);\n\tif (type === \"color\")\n\t\treturn interpolateColor(easeValue, startValue, endValue);\n\treturn linearInterpolation(easeValue, 0, 1, startValue, endValue);\n};\n\nclass AnimatedElement {\n\tconstructor(element, options = {}) {\n\t\tthis.element = element;\n\t\tconst config = element.dataset.animConfig\n\t\t\t? JSON.parse(element.dataset.animConfig)\n\t\t\t: {};\n\t\tconst initial = element.dataset.animInit\n\t\t\t? JSON.parse(element.dataset.animInit)\n\t\t\t: {};\n\n\t\tconst kfs = [];\n\t\tconst styleConfig = {};\n\n\t\tlet startFrame = 0;\n\t\tlet initialRef = {};\n\t\tlet ref = {};\n\t\tfor (let [prop, s] of Object.entries(initial)) {\n\t\t\tinitialRef[prop] = parseExpression(s);\n\t\t\tref[prop] = [...initialRef[prop]];\n\t\t}\n\t\tfor (let [kFrame, props] of Object.entries(config)) {\n\t\t\tconst endFrame = parseInt(kFrame, 10);\n\t\t\tkfs.push(endFrame);\n\t\t\tstyleConfig[kFrame] = { startFrame, endFrame, ref, props: {} };\n\t\t\tfor (let [prop, s] of Object.entries(props)) {\n\t\t\t\tconst values = parseExpression(s);\n\t\t\t\tref = { ...ref, [prop]: values };\n\t\t\t\tstyleConfig[kFrame].props[prop] = values;\n\t\t\t}\n\t\t\tstartFrame = endFrame + 1;\n\t\t}\n\t\tthis.styleConfig = styleConfig;\n\t\t// this.keyFrames = kfs;\n\n\t\tthis.update = (currentFrame, debug = false) => {\n\t\t\tlet r = {};\n\t\t\tconst aStyleConfig = Object.entries(styleConfig);\n\t\t\tconst kf = aStyleConfig.find(\n\t\t\t\t([, detail]) =>\n\t\t\t\t\tdetail.startFrame <= currentFrame &&\n\t\t\t\t\tdetail.endFrame >= currentFrame\n\t\t\t);\n\t\t\tif (kf) {\n\t\t\t\tconst detail = kf[1];\n\t\t\t\tfor (let [prop, v] of Object.entries(detail.ref)) {\n\t\t\t\t\tconst replacer = detail.props[prop]\n\t\t\t\t\t\t? detail.props[prop].map(\n\t\t\t\t\t\t\t\t(vi, i) =>\n\t\t\t\t\t\t\t\t\t`${getValue({\n\t\t\t\t\t\t\t\t\t\tstartValue: v[i].value,\n\t\t\t\t\t\t\t\t\t\tendValue: vi.value,\n\t\t\t\t\t\t\t\t\t\tstartFrame: detail.startFrame,\n\t\t\t\t\t\t\t\t\t\tendFrame: detail.endFrame,\n\t\t\t\t\t\t\t\t\t\tcurrentFrame,\n\t\t\t\t\t\t\t\t\t\tfunc: vi.func,\n\t\t\t\t\t\t\t\t\t\ttype: vi.type,\n\t\t\t\t\t\t\t\t\t})}${vi.unit || \"\"}`\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: v.map((vi) => `${vi.value}${vi.unit || \"\"}`);\n\t\t\t\t\t// console.log(`${prop}:`, {str: initial[prop], ref: initialRef[prop], replacer});\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\tr[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.element.style[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst detail = aStyleConfig[aStyleConfig.length - 1][1];\n\t\t\t\tfor (let [prop, v] of Object.entries(detail.ref)) {\n\t\t\t\t\tconst replacer = detail.props[prop]\n\t\t\t\t\t\t? detail.props[prop].map(\n\t\t\t\t\t\t\t\t(vi) => `${vi.value}${vi.unit || \"\"}`\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: v.map((vi) => `${vi.value}${vi.unit || \"\"}`);\n\t\t\t\t\tif (debug)\n\t\t\t\t\t\tr[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.element.style[prop] = replaceString(\n\t\t\t\t\t\t\tinitial[prop],\n\t\t\t\t\t\t\tinitialRef[prop],\n\t\t\t\t\t\t\treplacer\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (debug) return r;\n\t\t};\n\t}\n}\n\nclass TimelineAnimator {\n\tconstructor(getTimelineValue, options = {}) {\n\t\tthis.getTimelineValue = getTimelineValue;\n\t\tthis.animatedElements = new Map();\n\t\tthis.timelineValue = 0;\n\t\tthis.elementSelector = options.elementSelector || \"[data-anim-config]\";\n\n\t\tthis.collectAnimatedElements();\n\t\tthis.updateTimeline(); // Inisialisasi pada load\n\t}\n\n\tcollectAnimatedElements() {\n\t\tconst elements = document.querySelectorAll(this.elementSelector);\n\t\telements.forEach((element) => {\n\t\t\tif (!element.dataset.animConfig) return;\n\t\t\tconst animatedElement = new AnimatedElement(element);\n\t\t\tthis.animatedElements.set(element, animatedElement);\n\t\t});\n\t}\n\n\tupdateTimeline() {\n\t\tthis.timelineValue = this.getTimelineValue();\n\t\tthis.updateAllAnimatedElements();\n\t}\n\n\tupdateAllAnimatedElements() {\n\t\tthis.animatedElements.forEach((animatedElement) => {\n\t\t\tanimatedElement.update(this.timelineValue);\n\t\t});\n\t}\n}\n\n// Contoh:\n\n// // Penggunaan dengan input range\n// const timelineInput = document.getElementById('timeline');\n// const rangeAnimator = new TimelineAnimator(() => parseFloat(timelineInput.value), {\n//     elementSelector: '.range-animated' // selektor kustom\n// });\n// timelineInput.addEventListener('input', () => rangeAnimator.updateTimeline());\n\n// // Penggunaan dengan scroll\n// const scrollAnimator = new TimelineAnimator(() => window.scrollY, {\n//     elementSelector: '.scroll-animated' // selektor kustom\n// });\n// window.addEventListener('scroll', () => scrollAnimator.updateTimeline());\n\n// // Penggunaan dengan nilai yang diupdate secara programatik\n// let programValue = 0;\n// const programAnimator = new TimelineAnimator(() => programValue, {\n//     elementSelector: '.program-animated' // selektor kustom\n// });\n// setInterval(() => {\n//     programValue = (programValue + 0.01) % 1;\n//     programAnimator.updateTimeline();\n// }, 16);\n\nexport {\n\tAnimatedElement,\n\tTimelineAnimator,\n\teasingFunctions,\n\tparseExpression,\n\tlinearInterpolation,\n};\n","// autoinit.js (refactored with 3 controller types)\n\nimport { TimelineAnimator } from \"./animbase-core.js\";\n\nconst loopStateMap = new Map();\nconst controllers = new Map();\n\nwindow.AnimBase = window.AnimBase || {};\n\nfunction getKey(type, groupOrId = \"\") {\n\treturn type === \"timed\" ? `timed::${groupOrId}` : groupOrId;\n}\n\n// --- Public Control API ---\n[\n\t\"trigger\",\n\t\"pause\",\n\t\"resume\",\n\t\"stop\",\n\t\"seek\",\n\t\"setOnce\",\n\t\"setReverse\",\n\t\"setHooks\",\n].forEach((fn) => {\n\twindow.AnimBase[fn] = function (group) {\n\t\tconst key = getKey(\"timed\", group);\n\t\tconst state = loopStateMap.get(key);\n\t\tif (!state) return;\n\t\tswitch (fn) {\n\t\t\tcase \"trigger\":\n\t\t\t\tif (!state.running) {\n\t\t\t\t\tstate.running = true;\n\t\t\t\t\tif (state.onStart) state.onStart();\n\t\t\t\t\tstate.startTime = performance.now();\n\t\t\t\t\trunLoop(state);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"pause\":\n\t\t\t\tstate.running = false;\n\t\t\t\tstate.pauseTime = performance.now();\n\t\t\t\tbreak;\n\t\t\tcase \"resume\":\n\t\t\t\tconst pauseDuration = performance.now() - state.pauseTime;\n\t\t\t\tstate.startTime += pauseDuration;\n\t\t\t\tstate.running = true;\n\t\t\t\trunLoop(state);\n\t\t\t\tbreak;\n\t\t\tcase \"stop\":\n\t\t\t\tstate.running = false;\n\t\t\t\tstate.frame = state.reverse ? state.max : 0;\n\t\t\t\tstate.animator.updateTimeline();\n\t\t\t\tbreak;\n\t\t\tcase \"seek\":\n\t\t\t\tstate.frame = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(state.max, arguments[1] || 0)\n\t\t\t\t);\n\t\t\t\tstate.animator.updateTimeline();\n\t\t\t\tbreak;\n\t\t\tcase \"setOnce\":\n\t\t\t\tstate.once = !!arguments[1];\n\t\t\t\tbreak;\n\t\t\tcase \"setReverse\":\n\t\t\t\tstate.reverse = !!arguments[1];\n\t\t\t\tbreak;\n\t\t\tcase \"setHooks\":\n\t\t\t\tconst { onStart, onFinish } = arguments[1] || {};\n\t\t\t\tif (onStart) state.onStart = onStart;\n\t\t\t\tif (onFinish) state.onFinish = onFinish;\n\t\t\t\tbreak;\n\t\t}\n\t};\n});\n\nfunction runLoop(state) {\n\tconst loop = () => {\n\t\tconst now = performance.now();\n\t\tconst elapsed = now - state.startTime;\n\t\tlet t = elapsed / state.duration;\n\n\t\tt = Math.max(0, Math.min(1, t));\n\n\t\tconst progress = state.reverse ? 1 - t : t;\n\t\tstate.frame = Math.floor(progress * state.max);\n\t\tstate.animator.updateTimeline();\n\n\t\tif (t >= 1) {\n\t\t\tif (state.once) {\n\t\t\t\tstate.running = false;\n\t\t\t\tif (state.onFinish) state.onFinish();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tstate.startTime = performance.now();\n\t\t\t\tif (state.onFinish) state.onFinish();\n\t\t\t}\n\t\t}\n\n\t\tif (state.running) requestAnimationFrame(loop);\n\t};\n\tloop();\n}\n\nfunction scanAnimatedElements() {\n\tconst animatedElements = document.querySelectorAll(\n\t\t\"[data-anim-controller-ref], [data-anim-controlled-by], [data-anim-trigger-group]\"\n\t);\n\n\tanimatedElements.forEach((el) => {\n\t\t// 1. Controlled by another element (range, etc)\n\t\tif (el.dataset.animControllerRef) {\n\t\t\tconst refSelector = el.dataset.animControllerRef;\n\t\t\tconst refEl = document.querySelector(refSelector);\n\t\t\tif (!refEl) return console.warn(\"Missing controller:\", refSelector);\n\t\t\tif (!controllers.has(refSelector)) {\n\t\t\t\tconst getTimelineValue = () => parseFloat(refEl.value || 0);\n\t\t\t\tcontrollers.set(\n\t\t\t\t\trefSelector,\n\t\t\t\t\tnew TimelineAnimator(getTimelineValue, {\n\t\t\t\t\t\telementSelector: `[data-anim-controller-ref=\"${refSelector}\"]`,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\trefEl.addEventListener(\"input\", () =>\n\t\t\t\t\tcontrollers.get(refSelector).updateTimeline()\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// 2. Controlled by scroll\n\t\tif (el.dataset.animControlledBy) {\n\t\t\tconst type = el.dataset.animControlledBy;\n\t\t\tconst key = `scroll-${type}`;\n\t\t\tif (!controllers.has(key)) {\n\t\t\t\tconst getTimelineValue = () =>\n\t\t\t\t\ttype === \"scrollLeft\" ? window.scrollX : window.scrollY;\n\t\t\t\tcontrollers.set(\n\t\t\t\t\tkey,\n\t\t\t\t\tnew TimelineAnimator(getTimelineValue, {\n\t\t\t\t\t\telementSelector: `[data-anim-controlled-by=\"${type}\"]`,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\twindow.addEventListener(\"scroll\", () =>\n\t\t\t\t\tcontrollers.get(key).updateTimeline()\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// 3. Triggered loop animation (timed)\n\t\tif (el.dataset.animTriggerGroup) {\n\t\t\tconst group = el.dataset.animTriggerGroup;\n\t\t\tconst key = getKey(\"timed\", group);\n\t\t\tconst configEl = document.querySelector(\n\t\t\t\t`[data-anim-trigger-group=\"${group}\"][data-anim-trigger-config]`\n\t\t\t);\n\t\t\tif (!loopStateMap.has(key)) {\n\t\t\t\tlet cfg = configEl?.dataset.animTriggerConfig;\n\t\t\t\tcfg = cfg ? JSON.parse(cfg) : {};\n\t\t\t\tconst max = cfg.max || 100;\n\t\t\t\tconst duration = (1000 / (cfg.speed || 60)) * max;\n\t\t\t\tconst autostart = cfg.autostart || false;\n\t\t\t\tconst state = {\n\t\t\t\t\tframe: 0,\n\t\t\t\t\tmax,\n\t\t\t\t\tduration,\n\t\t\t\t\tanimator: null,\n\t\t\t\t\trunning: false,\n\t\t\t\t\tstartTime: 0,\n\t\t\t\t\tpauseTime: 0,\n\t\t\t\t\tonce: cfg.once || false,\n\t\t\t\t\treverse: cfg.reverse || false,\n\t\t\t\t\tonStart: null,\n\t\t\t\t\tonFinish: null,\n\t\t\t\t};\n\n\t\t\t\tconst getTimelineValue = () => state.frame;\n\n\t\t\t\tstate.animator = new TimelineAnimator(getTimelineValue, {\n\t\t\t\t\telementSelector: `[data-anim-trigger-group=\"${group}\"]:not([data-anim-trigger-config])`,\n\t\t\t\t});\n\n\t\t\t\tcontrollers.set(group, state.animator);\n\t\t\t\tloopStateMap.set(key, state);\n\n\t\t\t\tif (autostart) {\n\t\t\t\t\twindow.AnimBase.trigger(group);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t});\n}\n\nwindow.AnimBase.refresh = scanAnimatedElements;\n\ndocument.addEventListener(\"DOMContentLoaded\", scanAnimatedElements);\n","import * as AnimBaseCore from \"./animbase-core.js\";\nimport \"./autoinit.js\"; // tetap bekerja saat pakai <script> biasa\n\n// Untuk IIFE dan global\nif (typeof window !== \"undefined\") {\n\twindow.AnimBase = window.AnimBase || {};\n\tObject.assign(window.AnimBase, AnimBaseCore);\n}\n\n// Untuk ESM/CommonJS\nexport * from \"./animbase-core.js\";\n"],"names":["splitColor","color","match","slice","map","v","parseInt","toHexRGBA","s","found","Error","c3","c4","c6","c8","split","join","easingFunctions","linear","t","ease","in","out","Math","pow","inOut","inQuad","outQuad","inOutQuad","inCubic","outCubic","inOutCubic","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inSine","cos","PI","outSine","sin","inOutSine","inExpo","outExpo","inOutExpo","inCirc","sqrt","outCirc","inOutCirc","inBack","outBack","inOutBack","inElastic","outElastic","inOutElastic","inBounce","outBounce","inOutBounce","spring","stiffness","damping","exp","linearInterpolation","a","aMin","aMax","bMin","bMax","re","number","unit","func","numberWithOptionalUnit","RegExp","source","numberWithOptionalUnitAndFunc","parseExpression","rege","arr","r","exec","text","sValue","push","type","value","parseFloat","lastIndex","replaceString","str","_ref","_replacer","ref","reverse","replacer","i","length","fromIndex","toIndex","substring","getValue","startValue","endValue","startFrame","endFrame","currentFrame","normalValue","easeValue","color1","color2","cInt1","cInt2","round","max","min","toString","padStart","interpolateColor","AnimatedElement","constructor","element","options","this","config","dataset","animConfig","JSON","parse","initial","animInit","styleConfig","initialRef","prop","Object","entries","kFrame","props","values","update","debug","aStyleConfig","kf","find","detail","vi","style","TimelineAnimator","getTimelineValue","animatedElements","Map","timelineValue","elementSelector","collectAnimatedElements","updateTimeline","document","querySelectorAll","forEach","animatedElement","set","updateAllAnimatedElements","loopStateMap","controllers","getKey","groupOrId","runLoop","state","loop","performance","now","startTime","duration","progress","frame","floor","animator","once","running","onFinish","requestAnimationFrame","scanAnimatedElements","el","animControllerRef","refSelector","refEl","querySelector","console","warn","has","addEventListener","get","animControlledBy","key","window","scrollX","scrollY","animTriggerGroup","group","configEl","cfg","animTriggerConfig","speed","autostart","pauseTime","onStart","AnimBase","trigger","fn","pauseDuration","arguments","refresh","assign","AnimBaseCore"],"mappings":"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"}